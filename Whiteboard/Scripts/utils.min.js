var Utils=Utils||{};(function(b,a){a.command=b.command=function(n){if(typeof n==="function"){n={action:n}}if(!n){throw"No options were specified"}if(!n.action){throw"No action was specified in the options"}var m=a.observable(false),j=a.observable(false),d={done:[],fail:[function(){j(true)}],always:[function(){m(false)}]},l=function(p,q){var o=$.Deferred();if(p){o.resolve(q)}else{o.reject(q)}return o},h=function(){if(!e()){return l(false).promise()}m(true);j(false);var p;try{p=n.action.apply(h,arguments);if(!p||!p.done||!p.always||!p.fail){p=l(true,p).promise()}}catch(o){p=l(false,o).promise()}p.always(d.always).fail(d.fail).done(d.done);return p},k=a.observable(),e=a.computed(function(){k();return !m()&&(typeof n.canExecute==="undefined"||n.canExecute.call(h))},h),f=function(){k.notifySubscribers()},g=function(o){d.done.push(o);return h},i=function(o){d.fail.push(o);return h},c=function(o){d.always.push(o);return h};if(n.done){d.done.push(n.done)}if(n.fail){d.fail.push(n.fail)}h.isRunning=m;h.canExecute=e;h.canExecuteHasMutated=f;h.done=g;h.fail=i;h.always=c;h.failed=j;return h}})(Utils,ko||{});var Utils=Utils||{};(function(b,a){b.PagedObservableArray=function(j){j=j||{};if($.isArray(j)){j={data:j}}var c=a.observableArray(j.data||[]),h=a.observable(j.pageSize||10),g=a.observable(0),e=a.computed(function(){var m=h(),l=g(),n=m*l,k=m*(l+1);return c().slice(n,k)},this),f=a.computed(function(){return Math.ceil(c().length/h())||1}),d=function(){if(g()<(f()-1)){g(g()+1)}},i=function(){if(g()>0){g(g()-1)}};h.subscribe(function(){g(0)});c.subscribe(function(){g(0)});this.allData=c;this.pageSize=h;this.pageIndex=g;this.page=e;this.pageCount=f;this.nextPage=d;this.previousPage=i}})(Utils,ko);var Utils=Utils||{};(function(b,a){a.pagedList=b.pagedList=function(m){if(!m){throw"Options not specified"}if(!m.loadPage){throw"loadPage not specified on options"}var k=this,i=a.observable(m.pageSize||10),h=a.observable(0),l=a.observable(-1),f=a.observable([]),d=b.command(function(n){var o=m.loadPage(n,i());if(!o.pipe){throw"loadPage should return a promise"}return o.pipe(c).done(function(){h(n)})}),c=function(n){if(!n){throw"No page results"}if(!n.rows){throw"Result should contain rows array"}if(m.map){f($.map(n.rows,m.map))}else{f(n.rows)}if(n.totalRows){l(n.totalRows)}return n},g=a.computed(function(){if(l()===-1){return -1}return Math.ceil(l()/i())||1}),e=function(){var n=h(),o=g();if(o===-1||n<(o-1)){d(n+1)}},j=function(){var n=h()-1;if(n>=0){d(n)}};i.subscribe(function(){d(0)});if(m.firstPage){c(m.firstPage)}else{d(0)}f.pageSize=i;f.pageIndex=h;f.pageCount=g;f.totalRows=l;f.nextPage=e;f.previousPage=j;f.loadPage=d;return f}})(Utils,ko);